<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIVYA-DATA | Vedic Energy Synthesis</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Noto+Serif+Devanagari:wght@400;700&family=Playfair+Display:ital,wght@0,400;0,900;1,400&display=swap');

        :root {
            --gold: #D4AF37;
            --deep-red: #7E191B;
            --saffron: #FF9933;
            --royal-blue: #1A237E;
            --lotus-pink: #F48FB1;
            --sand: #F5F5DC;
            --glass: rgba(255, 255, 255, 0.85);
            --border: 1px solid rgba(212, 175, 55, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #0c0c0c;
            color: #2c2c2c;
            font-family: 'Playfair Display', serif;
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(126, 25, 27, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(26, 35, 126, 0.1) 0%, transparent 40%);
        }

        /* Mandala Background Animation */
        .mandala-bg {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120vh;
            height: 120vh;
            opacity: 0.05;
            z-index: -1;
            pointer-events: none;
            animation: rotate 120s linear infinite;
        }

        @keyframes rotate {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        header {
            text-align: center;
            padding: 4rem 1rem 2rem;
        }

        .sanskrit-title {
            font-family: 'Noto Serif Devanagari', serif;
            color: var(--gold);
            font-size: 1.2rem;
            letter-spacing: 0.5rem;
            margin-bottom: 0.5rem;
        }

        h1 {
            font-family: 'Cinzel', serif;
            font-size: 3.5rem;
            color: var(--gold);
            text-shadow: 0 2px 10px rgba(212, 175, 55, 0.3);
            margin-bottom: 1rem;
        }

        main {
            max-width: 900px;
            margin: 0 auto 5rem;
            padding: 0 1rem;
        }

        .glass-card {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: 40px;
            padding: 3rem;
            border: var(--border);
            box-shadow: 0 25px 60px rgba(0,0,0,0.2);
        }

        .input-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        @media (max-width: 600px) {
            .input-grid { grid-template-columns: 1fr; }
            h1 { font-size: 2.2rem; }
        }

        .field-label {
            display: block;
            font-family: 'Cinzel', serif;
            font-weight: 700;
            font-size: 0.8rem;
            color: var(--deep-red);
            margin-bottom: 0.8rem;
            letter-spacing: 2px;
        }

        input {
            width: 100%;
            padding: 1.2rem;
            border-radius: 12px;
            border: 1px solid #d1d1d1;
            background: rgba(255,255,255,0.8);
            font-size: 1.1rem;
            color: #333;
            transition: all 0.3s;
        }

        input:focus {
            outline: none;
            border-color: var(--gold);
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.2);
        }

        .btn-divine {
            width: 100%;
            padding: 1.5rem;
            background: linear-gradient(135deg, var(--deep-red), #4e0a0b);
            color: var(--gold);
            font-family: 'Cinzel', serif;
            font-weight: 700;
            font-size: 1.2rem;
            border: 1px solid var(--gold);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.4s;
            margin-top: 2rem;
            text-transform: uppercase;
            letter-spacing: 4px;
        }

        .btn-divine:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(126, 25, 27, 0.4);
            filter: brightness(1.2);
        }

        /* --- RESULTS --- */
        #results {
            display: none;
            animation: fadeIn 1.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid var(--gold);
            padding-bottom: 2rem;
            margin-bottom: 2.5rem;
        }

        .aura-canvas-wrap {
            position: relative;
            width: 320px;
            height: 320px;
        }

        canvas#auraCanvas {
            width: 100%;
            height: 100%;
        }

        .archetype-info {
            flex: 1;
            padding-left: 3rem;
        }

        .chakra-tag {
            background: var(--deep-red);
            color: var(--gold);
            padding: 0.4rem 1rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-family: 'Cinzel', serif;
            display: inline-block;
            margin-bottom: 1rem;
        }

        .archetype-name {
            font-size: 2.8rem;
            color: var(--deep-red);
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 1rem;
        }

        .sanskrit-name {
            font-family: 'Noto Serif Devanagari', serif;
            font-size: 1.5rem;
            color: #666;
            margin-bottom: 1rem;
        }

        /* --- ANALYSIS SECTIONS --- */
        .analysis-section {
            margin-bottom: 3rem;
        }

        .section-title {
            font-family: 'Cinzel', serif;
            font-size: 1.4rem;
            color: var(--deep-red);
            border-left: 4px solid var(--gold);
            padding-left: 1rem;
            margin-bottom: 1.5rem;
        }

        .insight-content {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #444;
            text-align: justify;
        }

        .insight-content p {
            margin-bottom: 1.5rem;
        }

        .guna-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .guna-card {
            background: white;
            padding: 1.5rem;
            border-radius: 20px;
            text-align: center;
            border: 1px solid #eee;
        }

        .guna-val {
            font-size: 2rem;
            font-weight: 900;
            color: var(--deep-red);
            display: block;
        }

        .guna-label {
            font-family: 'Cinzel', serif;
            font-size: 0.7rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* --- UPAYAS (REMEDIES) --- */
        .upaya-box {
            background: linear-gradient(to bottom right, #fff9f0, #fff);
            padding: 2.5rem;
            border-radius: 30px;
            border: 2px solid var(--gold);
            position: relative;
        }

        .upaya-box h4 {
            font-family: 'Cinzel', serif;
            color: var(--deep-red);
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .upaya-list {
            list-style: none;
        }

        .upaya-list li {
            margin-bottom: 1.2rem;
            padding-left: 2rem;
            position: relative;
        }

        .upaya-list li::before {
            content: 'üïâ';
            position: absolute;
            left: 0;
            color: var(--saffron);
        }

        /* --- SCANNER OVERLAY --- */
        #scanner-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #000;
            z-index: 9999;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: var(--gold);
        }

        .loader-ring {
            width: 200px;
            height: 200px;
            border: 2px solid transparent;
            border-top-color: var(--gold);
            border-radius: 50%;
            animation: spin 2s linear infinite;
            position: relative;
        }

        .loader-ring::after {
            content: '‡•ê';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 4rem;
            animation: pulse 1s ease-in-out infinite alternate;
        }

        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes pulse { from { opacity: 0.3; } to { opacity: 1; } }

        #scan-text {
            margin-top: 2rem;
            font-family: 'Cinzel', serif;
            letter-spacing: 5px;
            font-size: 1.2rem;
        }
    </style>
</head>
<body>

    <svg class="mandala-bg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <path fill="var(--gold)" d="M100 0 A100 100 0 0 1 200 100 A100 100 0 0 1 100 200 A100 100 0 0 1 0 100 A100 100 0 0 1 100 0 M100 20 A80 80 0 0 0 20 100 A80 80 0 0 0 100 180 A80 80 0 0 0 180 100 A80 80 0 0 0 100 20" opacity="0.2"/>
        <circle cx="100" cy="100" r="10" fill="var(--gold)" />
        <g transform="translate(100,100)">
            <path id="petal" d="M0 -20 C10 -40 20 -40 0 -80 C-20 -40 -10 -40 0 -20" fill="var(--gold)" opacity="0.5">
                <animateTransform attributeName="transform" type="rotate" from="0" to="360" dur="20s" repeatCount="indefinite" />
            </path>
            <!-- Repeat petals -->
            <use href="#petal" transform="rotate(45)" />
            <use href="#petal" transform="rotate(90)" />
            <use href="#petal" transform="rotate(135)" />
            <use href="#petal" transform="rotate(180)" />
            <use href="#petal" transform="rotate(225)" />
            <use href="#petal" transform="rotate(270)" />
            <use href="#petal" transform="rotate(315)" />
        </g>
    </svg>

    <header>
        <div class="sanskrit-title">‡§¶‡§ø‡§µ‡•ç‡§Ø-‡§°‡§æ‡§ü‡§æ | ‡§ä‡§∞‡•ç‡§ú‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£</div>
        <h1>Divya-Chakra Synthesis</h1>
        <p style="color: var(--gold); font-size: 0.9rem; letter-spacing: 2px;">Vedic Particle Awareness & Pranic Mapping</p>
    </header>

    <main>
        <section id="input-screen" class="glass-card">
            <div class="input-grid">
                <div>
                    <label class="field-label">Initiate Name</label>
                    <input type="text" id="userName" placeholder="Your earthly name">
                </div>
                <div>
                    <label class="field-label">Solar Manifestation Date</label>
                    <input type="date" id="birthDate">
                </div>
            </div>
            <div class="input-grid">
                <div>
                    <label class="field-label">Ascension Time</label>
                    <input type="time" id="birthTime">
                </div>
                <div>
                    <label class="field-label">Pranic Origin (Location)</label>
                    <input type="text" id="birthPlace" placeholder="City of birth">
                </div>
            </div>

            <button class="btn-divine" onclick="initiateSynthesis()">Invoke Analysis</button>
        </section>

        <section id="results" class="glass-card">
            <div class="result-header">
                <div class="aura-canvas-wrap">
                    <canvas id="auraCanvas"></canvas>
                </div>
                <div class="archetype-info">
                    <span class="chakra-tag" id="activeChakra">Anahata Active</span>
                    <h2 class="archetype-name" id="arcName">The Eternal Guardian</h2>
                    <div class="sanskrit-name" id="sanName">‡§∂‡§æ‡§∂‡•ç‡§µ‡§§ ‡§∞‡§ï‡•ç‡§∑‡§ï</div>
                    <p id="tagline" style="font-style: italic; color: #777;">A vessel of infinite compassion and structural integrity.</p>
                </div>
            </div>

            <div class="guna-grid">
                <div class="guna-card">
                    <span class="guna-val" id="sattvaVal">65%</span>
                    <span class="guna-label">Sattva (Harmony)</span>
                </div>
                <div class="guna-card">
                    <span class="guna-val" id="rajasVal">20%</span>
                    <span class="guna-label">Rajas (Action)</span>
                </div>
                <div class="guna-card">
                    <span class="guna-val" id="tamasVal">15%</span>
                    <span class="guna-label">Tamas (Inertia)</span>
                </div>
            </div>

            <div class="analysis-section">
                <h3 class="section-title">Metaphysical Analysis</h3>
                <div class="insight-content" id="longInsight">
                    <!-- Dynamic Content -->
                </div>
            </div>

            <div class="analysis-section">
                <h3 class="section-title">Karmic Impediments</h3>
                <div class="insight-content" id="karmicInsight">
                    <!-- Dynamic Content -->
                </div>
            </div>

            <div class="upaya-box">
                <h4><span>üíé</span> Divine Upayas (Protective Rituals)</h4>
                <ul class="upaya-list" id="upayaList">
                    <!-- Dynamic Content -->
                </ul>
            </div>

            <button class="btn-divine" style="background: transparent; color: #444; border-color: #ccc; margin-top: 3rem;" onclick="location.reload()">Return to Void</button>
        </section>
    </main>

    <div id="scanner-overlay">
        <div class="loader-ring"></div>
        <div id="scan-text">Synthesizing Atman...</div>
        <div id="progress-subtext" style="margin-top: 1rem; opacity: 0.6; font-size: 0.8rem;">Tracing Akashic Records</div>
    </div>

    <script>
        const MYTH_DATA = {
            "Fire": {
                name: "The Solar Architect",
                sanskrit: "‡§∏‡•å‡§∞ ‡§µ‡§æ‡§∏‡•ç‡§§‡•Å‡§ï‡§æ‡§∞",
                chakra: "Manipura (Solar Plexus)",
                color: "#FF4500",
                secColor: "#FFD700",
                insight: "Your energy resonates with the raw, transformative power of Agni, the Vedic god of fire. You are not merely a person; you are a catalyst. Your presence in a room alters the energetic chemistry of everyone present. You possess a 'Tejas' (inner radiance) that demands movement and clarity. However, this solar intensity often burns through your social filters, causing friction with those who prefer the shade of mediocrity.",
                karmic: "In previous cycles, you may have used your intensity to dominate rather than illuminate. In this life, your challenge is 'Shanti'‚Äîlearning that the sun does not need to scream to be felt. You attract 'Rudra' energies‚Äîsudden disruptions‚Äîwhen you become too rigid in your path. Watch for digestive fire imbalances during full moons.",
                remedies: [
                    "Perform 'Trataka' (candle gazing) for 5 minutes at sunset to stabilize the external fire.",
                    "Wear Sandalwood paste on the third eye to cool the 'Pitta' temperament during high-stress cycles.",
                    "Chant the 'Ram' Beeja mantra 108 times on Tuesdays to align the Manipura chakra.",
                    "Consume moon-charged water to balance the internal solar heat."
                ]
            },
            "Earth": {
                name: "The Prithvi Sage",
                sanskrit: "‡§™‡•É‡§•‡•ç‡§µ‡•Ä ‡§ã‡§∑‡§ø",
                chakra: "Muladhara (Root)",
                color: "#4E342E",
                secColor: "#8BC34A",
                insight: "You carry the weight and wisdom of the Bhumi (Earth). Your vibration is slow, deep, and incredibly resilient. You are the 'Sthira'‚Äîthe steadiness‚Äîin a chaotic world. While others panic, you anchor. Your energy field acts as a natural grounding wire for those around you, though you often absorb their 'Tamas' (heaviness) without realizing it.",
                karmic: "Your karmic burden is 'Mohi'‚Äîattachment. You have a tendency to hold onto people, objects, and memories long after their energetic value has expired. This creates a density in your aura that can manifest as physical lethargy. Your soul's mission is to realize that the mountain can move while remaining the mountain.",
                remedies: [
                    "Walk barefoot on natural grass for 11 minutes at dawn to discharge stagnant energy into the earth.",
                    "Carry a piece of raw Smoky Quartz to act as a secondary grounding anchor during travel.",
                    "Chant 'Lam' while focusing on the base of the spine during the Brahma Muhurta (pre-dawn).",
                    "Offer yellow flowers to a Banyan tree to signify your release of earthly attachments."
                ]
            },
            "Water": {
                name: "The Lunar Mystic",
                sanskrit: "‡§ö‡§Ç‡§¶‡•ç‡§∞ ‡§∞‡§π‡§∏‡•ç‡§Ø‡§µ‡§æ‡§¶‡•Ä",
                chakra: "Swadhisthana (Sacral)",
                color: "#1A237E",
                secColor: "#E1F5FE",
                insight: "You are a child of Varuna, the lord of the cosmic oceans. Your energy is fluid, intuitive, and deeply empathetic. You don't see the world; you feel it. Your aura is like a 'Luminous Abyss'‚Äîtransparent on the surface but containing infinite depth. You have the gift of 'Vacha' (intuitive speech), often knowing what someone is about to say before they speak.",
                karmic: "Your barrier is 'Maya'‚Äîthe illusion of emotional boundaries. You often confuse others' suffering with your own, leading to 'Pranic exhaustion'. You likely have a karmic debt related to family dynamics, requiring you to find emotional independence while remaining in a sea of relationships.",
                remedies: [
                    "Bathe in water mixed with sea salt and neem leaves to strip away the emotional residue of others.",
                    "Keep a copper vessel of water by your bed at night; discard the water into a plant in the morning (absorption of negative nocturnal frequencies).",
                    "Chant 'Vam' 108 times on Mondays to harmonize the lunar tides within your psyche.",
                    "Wear pearls or moonstone to stabilize the fluctuating emotional body during New Moon cycles."
                ]
            },
            "Air": {
                name: "The Vayu Wanderer",
                sanskrit: "‡§µ‡§æ‡§Ø‡•Å ‡§™‡§•‡§ø‡§ï",
                chakra: "Anahata / Vishuddha",
                color: "#E0F7FA",
                secColor: "#D4AF37",
                insight: "You embody the essence of Vayu‚Äîthe invisible yet omnipresent wind. Your energy is light, expansive, and high-frequency. You are a bridge between the physical and the spiritual, often receiving 'Akashic downloads' through sudden flashes of inspiration. Your aura expands significantly when you are in nature, but shrinks rapidly in dense, urban environments.",
                karmic: "Your struggle is 'Vikshepa'‚Äîthe wandering mind. In past lives, you were likely a seeker who never stopped to build. In this life, your karma demands 'Dharana' (concentration). You are prone to 'Vata' imbalances‚Äîanxiety and restlessness‚Äîwhen your ideas are not manifested into the physical realm.",
                remedies: [
                    "Practice 'Nadi Shodhana' (alternate nostril breathing) twice daily to balance the Ida and Pingala nadis.",
                    "Use Frankincense resin to smudge your workspace, clearing the air of mental static.",
                    "Chant 'Yam' to open the heart center, ensuring your thoughts are filtered through compassion.",
                    "Wear light blue silk or linen to maintain the integrity of your expansive energy field."
                ]
            }
        };

        function initiateSynthesis() {
            const name = document.getElementById('userName').value;
            const dob = document.getElementById('birthDate').value;
            if (!name || !dob) {
                alert("Please provide your earthly coordinates.");
                return;
            }

            const overlay = document.getElementById('scanner-overlay');
            overlay.style.display = 'flex';

            const steps = [
                "Measuring Pranic Density...",
                "Calculating Guna Ratios...",
                "Mapping Nakshatra Intersections...",
                "Decoding Karmic DNA...",
                "Invoking the Archetype..."
            ];
            
            let i = 0;
            const interval = setInterval(() => {
                document.getElementById('scan-text').innerText = steps[i];
                i++;
                if (i >= steps.length) {
                    clearInterval(interval);
                    setTimeout(generateAuraData, 800);
                }
            }, 800);
        }

        function generateAuraData() {
            const dob = new Date(document.getElementById('birthDate').value);
            const day = dob.getDate();
            const month = dob.getMonth();
            
            // Simplified Vedic Logic
            const elements = ["Earth", "Water", "Fire", "Air"];
            const element = elements[(day + month) % 4];
            const data = MYTH_DATA[element];

            // Guna Calculation (Pseudo-astrological)
            const sattva = 40 + (day % 40);
            const rajas = Math.min(100 - sattva, 10 + (month * 5));
            const tamas = 100 - sattva - rajas;

            // UI Update
            document.getElementById('scanner-overlay').style.display = 'none';
            document.getElementById('input-screen').style.display = 'none';
            document.getElementById('results').style.display = 'block';

            document.getElementById('arcName').innerText = data.name;
            document.getElementById('sanName').innerText = data.sanskrit;
            document.getElementById('activeChakra').innerText = data.chakra + " Active";
            document.getElementById('sattvaVal').innerText = sattva + "%";
            document.getElementById('rajasVal').innerText = rajas + "%";
            document.getElementById('tamasVal').innerText = tamas + "%";

            // Long Insights
            document.getElementById('longInsight').innerHTML = `
                <p>${data.insight}</p>
                <p>Based on your solar entry, your primary <strong>Guna</strong> is ${sattva > 50 ? 'Sattvic' : 'Rajasic'}. This means your soul's default state is seeking ${sattva > 50 ? 'clarity and peace' : 'expression and movement'}. Your <strong>Prana</strong> flows most strongly through the ${data.chakra}, suggesting that when you are out of alignment, you feel it physically in this region first.</p>
            `;

            document.getElementById('karmicInsight').innerHTML = `
                <p>${data.karmic}</p>
                <p>The current planetary transit suggests a 'Rahu' influence on your energetic perimeter. This creates a shadow of doubt‚Äîmaking you question your own intuition. To break this cycle, you must acknowledge that your <strong>Atman</strong> is independent of the external noise.</p>
            `;

            const list = document.getElementById('upayaList');
            list.innerHTML = "";
            data.remedies.forEach(r => {
                const li = document.createElement('li');
                li.innerText = r;
                list.appendChild(li);
            });

            startAuraAnimation(data.color, data.secColor);
        }

        let auraFrame = null;
        function startAuraAnimation(c1, c2) {
            const canvas = document.getElementById('auraCanvas');
            const ctx = canvas.getContext('2d');
            canvas.width = 600;
            canvas.height = 600;

            const particles = [];
            for(let i=0; i<60; i++) {
                particles.push({
                    x: 300, y: 300,
                    r: Math.random() * 100 + 50,
                    angle: Math.random() * Math.PI * 2,
                    speed: 0.005 + Math.random() * 0.01,
                    pulse: Math.random() * 0.05
                });
            }

            let t = 0;
            function animate() {
                ctx.clearRect(0,0,600,600);
                ctx.globalCompositeOperation = 'screen';

                particles.forEach((p, i) => {
                    p.angle += p.speed;
                    const shift = Math.sin(t * p.pulse) * 40;
                    const x = 300 + Math.cos(p.angle) * (120 + shift);
                    const y = 300 + Math.sin(p.angle) * (120 + shift);

                    const g = ctx.createRadialGradient(x, y, 0, x, y, p.r);
                    g.addColorStop(0, i % 2 === 0 ? c1 + '44' : c2 + '33');
                    g.addColorStop(1, 'transparent');

                    ctx.fillStyle = g;
                    ctx.beginPath();
                    ctx.arc(x, y, p.r, 0, Math.PI * 2);
                    ctx.fill();
                });

                // Central Bindu
                const binduSize = 60 + Math.sin(t * 0.05) * 5;
                const bg = ctx.createRadialGradient(300, 300, 0, 300, 300, binduSize);
                bg.addColorStop(0, '#fff');
                bg.addColorStop(0.3, c1);
                bg.addColorStop(1, 'transparent');
                ctx.fillStyle = bg;
                ctx.beginPath();
                ctx.arc(300, 300, binduSize, 0, Math.PI * 2);
                ctx.fill();

                t++;
                auraFrame = requestAnimationFrame(animate);
            }
            if(auraFrame) cancelAnimationFrame(auraFrame);
            animate();
        }
    </script>
</body>
</html>
